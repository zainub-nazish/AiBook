<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500" width="800" height="500">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="accurateGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e8449;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fastGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#2c3e50" text-anchor="middle">Physics Timestep Trade-offs</text>
  <text x="400" y="55" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d" text-anchor="middle">max_step_size Configuration in Gazebo</text>

  <!-- Graph Area -->
  <rect x="100" y="80" width="600" height="300" fill="white" stroke="#bdc3c7" stroke-width="1" filter="url(#shadow)"/>

  <!-- Grid lines -->
  <g stroke="#ecf0f1" stroke-width="1">
    <line x1="100" y1="140" x2="700" y2="140"/>
    <line x1="100" y1="200" x2="700" y2="200"/>
    <line x1="100" y1="260" x2="700" y2="260"/>
    <line x1="100" y1="320" x2="700" y2="320"/>
    <line x1="200" y1="80" x2="200" y2="380"/>
    <line x1="300" y1="80" x2="300" y2="380"/>
    <line x1="400" y1="80" x2="400" y2="380"/>
    <line x1="500" y1="80" x2="500" y2="380"/>
    <line x1="600" y1="80" x2="600" y2="380"/>
  </g>

  <!-- Axes -->
  <line x1="100" y1="380" x2="700" y2="380" stroke="#2c3e50" stroke-width="2"/>
  <line x1="100" y1="80" x2="100" y2="380" stroke="#2c3e50" stroke-width="2"/>

  <!-- X-axis labels -->
  <text x="400" y="410" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle">Timestep Size (max_step_size)</text>
  <text x="150" y="398" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="middle">0.0001s</text>
  <text x="275" y="398" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="middle">0.001s</text>
  <text x="400" y="398" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="middle">0.005s</text>
  <text x="525" y="398" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="middle">0.01s</text>
  <text x="650" y="398" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="middle">0.05s</text>

  <!-- Y-axis labels -->
  <text x="60" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50" text-anchor="middle" transform="rotate(-90, 60, 235)">Performance / Accuracy</text>
  <text x="90" y="95" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="end">High</text>
  <text x="90" y="375" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="end">Low</text>

  <!-- Accuracy curve (green) - decreases as timestep increases -->
  <path d="M 150 100 Q 275 110, 400 180 Q 525 280, 650 350"
        fill="none" stroke="#27ae60" stroke-width="3" stroke-linecap="round"/>

  <!-- Performance curve (red) - increases as timestep increases -->
  <path d="M 150 350 Q 275 300, 400 200 Q 525 130, 650 100"
        fill="none" stroke="#e74c3c" stroke-width="3" stroke-linecap="round"/>

  <!-- Optimal zone highlight -->
  <rect x="240" y="80" width="120" height="300" fill="#3498db" fill-opacity="0.1"/>
  <text x="300" y="70" font-family="Arial, sans-serif" font-size="11" fill="#3498db" text-anchor="middle" font-weight="bold">Optimal Zone</text>

  <!-- Data points on curves -->
  <circle cx="275" cy="115" r="6" fill="#27ae60"/>
  <circle cx="275" cy="290" r="6" fill="#e74c3c"/>

  <!-- Legend -->
  <rect x="520" y="90" width="170" height="70" fill="white" stroke="#bdc3c7" rx="5" filter="url(#shadow)"/>
  <line x1="530" y1="110" x2="560" y2="110" stroke="#27ae60" stroke-width="3"/>
  <circle cx="545" cy="110" r="4" fill="#27ae60"/>
  <text x="570" y="114" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Accuracy</text>

  <line x1="530" y1="135" x2="560" y2="135" stroke="#e74c3c" stroke-width="3"/>
  <circle cx="545" cy="135" r="4" fill="#e74c3c"/>
  <text x="570" y="139" font-family="Arial, sans-serif" font-size="11" fill="#2c3e50">Performance (FPS)</text>

  <!-- Annotations -->
  <rect x="110" y="420" width="180" height="70" rx="5" fill="url(#accurateGrad)" filter="url(#shadow)"/>
  <text x="200" y="442" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Small Timestep</text>
  <text x="200" y="458" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">0.0001s - 0.001s</text>
  <text x="200" y="475" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">High accuracy, slow speed</text>
  <text x="200" y="485" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Use: Complex contacts</text>

  <rect x="310" y="420" width="180" height="70" rx="5" fill="#3498db" filter="url(#shadow)"/>
  <text x="400" y="442" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Recommended</text>
  <text x="400" y="458" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">0.001s (1ms)</text>
  <text x="400" y="475" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Good balance</text>
  <text x="400" y="485" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Use: Most simulations</text>

  <rect x="510" y="420" width="180" height="70" rx="5" fill="url(#fastGrad)" filter="url(#shadow)"/>
  <text x="600" y="442" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Large Timestep</text>
  <text x="600" y="458" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">0.01s - 0.05s</text>
  <text x="600" y="475" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Fast but inaccurate</text>
  <text x="600" y="485" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle">Use: Quick testing only</text>

  <!-- Warning callout -->
  <text x="650" y="365" font-family="Arial, sans-serif" font-size="9" fill="#e74c3c" text-anchor="middle">Objects may</text>
  <text x="650" y="375" font-family="Arial, sans-serif" font-size="9" fill="#e74c3c" text-anchor="middle">pass through!</text>
</svg>
