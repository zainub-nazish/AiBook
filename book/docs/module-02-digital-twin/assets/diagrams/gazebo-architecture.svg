<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" width="800" height="600">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a90d9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#357abd;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="physicsGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="renderGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#229954;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sensorGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="transportGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e67e22;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50" text-anchor="middle">Gazebo Harmonic Architecture</text>
  <text x="400" y="55" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d" text-anchor="middle">Module 2 - The Digital Twin</text>

  <!-- Main Gazebo Box -->
  <rect x="50" y="80" width="700" height="480" rx="10" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" filter="url(#shadow)"/>
  <rect x="50" y="80" width="700" height="40" rx="10" fill="url(#headerGrad)"/>
  <rect x="50" y="110" width="700" height="10" fill="url(#headerGrad)"/>
  <text x="400" y="107" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Gazebo Simulator</text>

  <!-- Physics Engine Section -->
  <rect x="70" y="140" width="200" height="180" rx="8" fill="url(#physicsGrad)" filter="url(#shadow)"/>
  <text x="170" y="165" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Physics Engine</text>

  <rect x="85" y="180" width="170" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="170" y="200" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">ODE (Default)</text>

  <rect x="85" y="218" width="170" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="170" y="238" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">DART</text>

  <rect x="85" y="256" width="170" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="170" y="276" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">Bullet</text>

  <text x="170" y="305" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Collisions, Dynamics</text>
  <text x="170" y="317" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Gravity, Friction</text>

  <!-- Rendering Engine Section -->
  <rect x="300" y="140" width="200" height="180" rx="8" fill="url(#renderGrad)" filter="url(#shadow)"/>
  <text x="400" y="165" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Rendering Engine</text>

  <rect x="315" y="180" width="170" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="400" y="200" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">OGRE 2.x</text>

  <rect x="315" y="218" width="170" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="400" y="238" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">Scene Graph</text>

  <rect x="315" y="256" width="170" height="30" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="400" y="276" font-family="Arial, sans-serif" font-size="11" fill="#333" text-anchor="middle">Materials &amp; Shaders</text>

  <text x="400" y="305" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">3D Visualization</text>
  <text x="400" y="317" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Shadows, Lighting</text>

  <!-- Sensor Systems Section -->
  <rect x="530" y="140" width="200" height="180" rx="8" fill="url(#sensorGrad)" filter="url(#shadow)"/>
  <text x="630" y="165" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Sensor Systems</text>

  <rect x="545" y="180" width="170" height="25" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="630" y="197" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">LiDAR (gpu_lidar)</text>

  <rect x="545" y="210" width="170" height="25" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="630" y="227" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">Camera (camera)</text>

  <rect x="545" y="240" width="170" height="25" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="630" y="257" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">Depth (depth_camera)</text>

  <rect x="545" y="270" width="170" height="25" rx="4" fill="white" fill-opacity="0.9"/>
  <text x="630" y="287" font-family="Arial, sans-serif" font-size="10" fill="#333" text-anchor="middle">IMU (imu)</text>

  <text x="630" y="310" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle">Data Generation</text>

  <!-- Transport Layer -->
  <rect x="70" y="340" width="660" height="60" rx="8" fill="url(#transportGrad)" filter="url(#shadow)"/>
  <text x="400" y="365" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Gazebo Transport (gz-transport)</text>
  <text x="400" y="385" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">Topics &amp; Services | Publish/Subscribe | ZeroMQ Backend</text>

  <!-- SDF Layer -->
  <rect x="70" y="420" width="320" height="60" rx="8" fill="#3498db" filter="url(#shadow)"/>
  <text x="230" y="445" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">SDF Parser</text>
  <text x="230" y="465" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">World, Model, Link, Joint definitions</text>

  <!-- ROS Bridge -->
  <rect x="410" y="420" width="320" height="60" rx="8" fill="#1abc9c" filter="url(#shadow)"/>
  <text x="570" y="445" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">ros_gz_bridge</text>
  <text x="570" y="465" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">Gazebo â†” ROS 2 Message Conversion</text>

  <!-- External connections -->
  <rect x="70" y="500" width="150" height="45" rx="6" fill="#2c3e50" filter="url(#shadow)"/>
  <text x="145" y="525" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">SDF World Files</text>
  <text x="145" y="538" font-family="Arial, sans-serif" font-size="9" fill="#bdc3c7" text-anchor="middle">.sdf, .world</text>

  <rect x="240" y="500" width="150" height="45" rx="6" fill="#2c3e50" filter="url(#shadow)"/>
  <text x="315" y="525" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Model Files</text>
  <text x="315" y="538" font-family="Arial, sans-serif" font-size="9" fill="#bdc3c7" text-anchor="middle">URDF, Meshes</text>

  <rect x="410" y="500" width="150" height="45" rx="6" fill="#2c3e50" filter="url(#shadow)"/>
  <text x="485" y="525" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">ROS 2 Nodes</text>
  <text x="485" y="538" font-family="Arial, sans-serif" font-size="9" fill="#bdc3c7" text-anchor="middle">Controllers, Planners</text>

  <rect x="580" y="500" width="150" height="45" rx="6" fill="#2c3e50" filter="url(#shadow)"/>
  <text x="655" y="525" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">RViz2</text>
  <text x="655" y="538" font-family="Arial, sans-serif" font-size="9" fill="#bdc3c7" text-anchor="middle">Visualization</text>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#7f8c8d"/>
    </marker>
  </defs>

  <!-- Vertical arrows from components to transport -->
  <line x1="170" y1="320" x2="170" y2="340" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="320" x2="400" y2="340" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="630" y1="320" x2="630" y2="340" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Arrows from SDF/Bridge to external -->
  <line x1="145" y1="480" x2="145" y2="500" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="315" y1="480" x2="315" y2="500" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="485" y1="480" x2="485" y2="500" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="655" y1="480" x2="655" y2="500" stroke="#7f8c8d" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Legend -->
  <text x="400" y="580" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" text-anchor="middle">Gazebo Harmonic (gz-sim) - Modular Architecture with Plugin-Based Systems</text>
</svg>
