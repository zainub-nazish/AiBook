<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 450" width="850" height="450">
  <defs>
    <linearGradient id="nitrosGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#76B900;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5A8A00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="gemGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00BCD4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00838F;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Title -->
  <text x="425" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">Isaac ROS Architecture: NITROS + GEMs</text>

  <!-- ROS 2 Application Layer -->
  <rect x="50" y="55" width="750" height="70" rx="10" fill="#e3f2fd" stroke="#1976D2" stroke-width="2"/>
  <text x="425" y="80" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#1976D2">ROS 2 Application Layer</text>
  <text x="150" y="105" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">User Nodes</text>
  <text x="350" y="105" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">Nav2</text>
  <text x="550" y="105" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">Robot Control</text>
  <text x="700" y="105" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333">Visualization</text>

  <!-- NITROS Layer -->
  <rect x="50" y="140" width="750" height="100" rx="10" fill="url(#nitrosGrad)"/>
  <text x="425" y="165" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">NITROS - NVIDIA Isaac Transport for ROS</text>
  <text x="425" y="185" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Zero-Copy GPU Memory Sharing</text>

  <!-- NITROS components -->
  <rect x="80" y="200" width="150" height="30" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="155" y="220" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Type Adapters</text>

  <rect x="260" y="200" width="150" height="30" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="335" y="220" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">GPU Tensor Msgs</text>

  <rect x="440" y="200" width="150" height="30" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="515" y="220" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Memory Pool</text>

  <rect x="620" y="200" width="150" height="30" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="695" y="220" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Graph Optimizer</text>

  <!-- GEM Layer -->
  <rect x="50" y="260" width="750" height="100" rx="10" fill="url(#gemGrad)"/>
  <text x="425" y="285" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">GEMs - GPU-accelerated Library Modules</text>

  <!-- GEM components -->
  <rect x="70" y="300" width="120" height="45" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="130" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">cuVSLAM</text>
  <text x="130" y="335" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">Visual SLAM</text>

  <rect x="210" y="300" width="120" height="45" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="270" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">Depth Proc</text>
  <text x="270" y="335" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">Stereo/ToF</text>

  <rect x="350" y="300" width="120" height="45" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="410" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">nvblox</text>
  <text x="410" y="335" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">3D Mapping</text>

  <rect x="490" y="300" width="120" height="45" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="550" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">DNN Inference</text>
  <text x="550" y="335" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">TensorRT</text>

  <rect x="630" y="300" width="120" height="45" rx="5" fill="rgba(255,255,255,0.2)"/>
  <text x="690" y="320" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="white">Image Proc</text>
  <text x="690" y="335" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">Rectify, Resize</text>

  <!-- GPU Layer -->
  <rect x="50" y="380" width="750" height="55" rx="10" fill="#333"/>
  <text x="425" y="415" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">NVIDIA GPU (CUDA, cuDNN, TensorRT)</text>

  <!-- Data flow arrows -->
  <text x="30" y="200" font-family="Arial, sans-serif" font-size="10" fill="#666" transform="rotate(-90, 30, 200)">Data Flow</text>
  <line x1="35" y1="130" x2="35" y2="370" stroke="#666" stroke-width="2" stroke-dasharray="5"/>
</svg>
